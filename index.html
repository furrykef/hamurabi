<!doctype html>
<html>
  <head>
    <title>Hamurabi</title>
    <link rel="stylesheet" type="text/css" href="hamurabi.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.0/knockout-min.js"></script>
  </head>
  <body>
    <h1>Hamurabi</h1>
    <p>
      (This game is a work in progress. <strong>It is not fully functional yet.</strong>)
    </p>
    <p>Hamurabi, I beg to report that in year <span data-bind="text: year"></span>:</p>
    <ul>
      <li><span data-bind="text: born"></span> people came to the city</li>
      <li><span data-bind="text: starved"></span> people died of starvation</li>
      <li data-bind="visible: plague">A terrible plague killed half the city's population!</li>
      <li><span data-bind="text: total_harvest"></span> bushels
          were harvested from <span data-bind="text: farmed"></span> farms
          (<span data-bind="text: harvest_per_acre"></span> per acre)</li>
      <li><span data-bind="text: rats"></span> bushels were eaten by rats</li>
    </ul>

    <p>Now we have:</p>
    <ul>
      <li><span data-bind="text: population"></span> people</li>
      <li><span data-bind="text: acres"></span> acres of farmland</li>
      <li><span data-bind="text: store"></span> bushels of grain</li>
    </ul>

    <p>Land is trading for <span data-bind="text: acre_price"></span> bushels per acre.</p>

    <p>Resource allocation for next year:</p>
    <form data-bind="submit: Hamurabi.onSubmit">
        <label for="InBuyAcres">Acres of farmland</label><br>
        <button data-bind="click: in_acres(in_acres()-1)">-</button>
        <input type="range" id="InAcres"
               data-bind="value: in_acres, valueUpdate: 'input'"
               min="0"
               max="1500">
        <button data-bind="click: in_acres(in_acres()+1)">+</button>
        <span data-bind="text: in_acres()"></span> acres
        (<span data-bind="text: Hamurabi.plus(acre_sales())"></span> bushels)<br>
        <br>
        <label for="InFood">Food</label><br>
        <input type="number" id="InFood" step="20"
               data-bind="value: in_food"><br>
        <br>
        <label for="InSeeds">Acres to farm</label><br>
        <input type="number" id="InSeeds"
               data-bind="value: in_farmed"><br>
        <br>
        <input type="submit" value="Make it so">
    </form>
    <script src="hamurabi.js" type="text/javascript"></script>
  </body>
</html>
